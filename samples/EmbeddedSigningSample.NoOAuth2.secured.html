<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Embedded Signing - UI SDK Sample</title>
    <script data-main="[APIServiceUrl]/[APIVersion]/client/scripts/main" src="[APIServiceUrl]/[APIVersion]/client/scripts/require.js"></script>
</head>
<body>
    <p>Please replace your API Key and Secret first.</p>
    <div style="width:100%; height:90px;margin-top:32px;">
        <div id="login"></div>
    </div>
    <div id="content" style="width: 1024px; height: 900px;"></div>
    <script type="text/javascript">

        var securedsigning;
        var config = {
            "apiKey": "[APIKEY]",
            "baseUrl": "[APIServiceUrl]",
            "version": "[APIVersion]",
            "authGenerator":"[AuthGenerator]"
        };
        // the response format from AuthGenerator should be
        //{
        //  "timestamp" ="",
        //  "signature" = "",
        //  "apiKey" = "",
        //  "nonce" = ""
        //}
        // it's better to just serialize the result of
        //   SecuredSigningClientSdk.ServiceClient.GenerateAuthHeaders()
        // and return it.
        function SSApiLoaded() {
            securedsigning = new SecuredSigning(config);

            var key="[SigningKey]";
            Sign(key);
        };
        
        function Sign(key) {
            var request = {
                SigningKey:key
            };
            securedsigning.getSignResource2(request, "content", function (error) {
                console.log(error);
            }, function () {
                alert('Thanks');
                $("#content").empty();
            });
        }
    </script>
</body>
</html>
